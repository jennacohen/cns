blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s) %>%
summarise(
count=n()
)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06")
#group_by(charge_s) %>%
#summarise(
#  count=n()
# )
View(blm_charges)
dc_arrests<- dc_arrests %>%
mutate(arrest_date = mdy(arrest_date),
offense_date = mdy(offense_date))
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06")
#group_by(charge_s) %>%
#summarise(
#  count=n()
# )
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s) %>%
summarise(
count=n()
)
View(blm_charges)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s) %>%
summarise(
count=n()
) %>%
arrange(desc())
View(blm_charges)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(arrest_date)) %>%
head(10)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_may_31
blm_charges<- dc_arrests %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_may_31
blm_may_31<- dc_arrests %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
View(blm_may_31)
#blm_june_1
blm_june_1<- dc_arrests %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
View(blm_june_1)
#blm_june_1
blm_june_1<- dc_arrests %>%
filter(arrest_date == "2020-06-01") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
View(blm_june_1)
#jan6_charges
jan6_charges<- dc_arrests %>%
filter(arrest_date == "2021-01-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count)) %>%
head(10)
View(jan6_charges)
#blm_june_1
blm_june_1<- dc_arrests %>%
filter(arrest_date == "2020-06-01") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_may_31
blm_may_31<- dc_arrests %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#jan6_charges
jan6_charges<- dc_arrests %>%
filter(arrest_date == "2021-01-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#jan6_charges
jan6_charges<- dc_arrests %>%
filter(arrest_date == "2021-01-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
blm_conflict<- us_conflicts %>%
filter(admin1 == "District of Columbia" & event_date > "2020-05-30" & event_date < "2020-06-02") %>%
select(-data_id, -iso, -iso3, time_precision, -region, -country, -event_id_cnty, -event_id_no_cnty, -timestamp, -time_precision)
us_conflicts<- read_csv("data/us_conflict_data.csv")
us_conflicts<- us_conflicts %>%
mutate(event_date = dmy(event_date))
jan_6_conflict<- us_conflicts %>%
filter(admin1 == "District of Columbia" & event_date == "2021-01-06") %>%
select(-data_id, -iso, -iso3, time_precision, -region, -country, -event_id_cnty, -event_id_no_cnty, -timestamp, -time_precision)
blm_conflict<- us_conflicts %>%
filter(admin1 == "District of Columbia" & event_date > "2020-05-30" & event_date < "2020-06-02") %>%
select(-data_id, -iso, -iso3, time_precision, -region, -country, -event_id_cnty, -event_id_no_cnty, -timestamp, -time_precision)
blm_conflict<- us_conflicts %>%
filter(admin1 == "District of Columbia" & event_date > "2020-05-30" & event_date < "2020-06-02") %>%
select(-data_id, -iso, -iso3, time_precision, -region, -country, -event_id_cnty, -event_id_no_cnty, -timestamp, -time_precision)
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info)
#blm arrests/offenses
blm_arrests<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(arrest_date) %>%
summarise(
arrest_count = n()
)
blm_offenses<- dc_arrests %>%
filter(offense_date > "2020-05-29" & offense_date < "2020-06-06") %>%
group_by(offense_date) %>%
summarise(
offense_count = n()
)
blm_arrest_info <- blm_arrests %>%
left_join(blm_offenses, by=c('arrest_date'='offense_date')) %>%
rename(date = arrest_date)
# skipping 6-4 for some reason???
#insurrection arrests/offenses
jan6_arrests<- dc_arrests %>%
filter(arrest_date > "2021-01-05" & arrest_date < "2021-01-08") %>%
group_by(arrest_date) %>%
summarise(
arrest_count = n()
)
jan6_offenses<- dc_arrests %>%
filter(arrest_date > "2021-01-05" & arrest_date < "2021-01-08") %>%
group_by(offense_date) %>%
summarise(
offense_count = n()
)
jan6_arrest_info <- jan6_arrests %>%
left_join(jan6_offenses, by=c('arrest_date'='offense_date')) %>%
rename(date = arrest_date)
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info)
View(arrests_by_offense_date)
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31" & "2020-06-01" & "2021-01-06")
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31")
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31"&"2020-06-01"&"2021-01-06")
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31" & "2020-06-01")
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31" | "2020-06-01" | "2021-01-06")
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31" | "2020-06-01")
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
filter(date == "2020-05-31"|"2020-06-01")
#blm arrests/offenses
blm_arrests<- dc_arrests %>%
filter(arrest_date > "2020-05-30" & arrest_date < "2020-06-02") %>%
group_by(arrest_date) %>%
summarise(
arrest_count = n()
)
blm_offenses<- dc_arrests %>%
filter(offense_date > "2020-05-30" & offense_date < "2020-06-02") %>%
group_by(offense_date) %>%
summarise(
offense_count = n()
)
blm_arrest_info <- blm_arrests %>%
left_join(blm_offenses, by=c('arrest_date'='offense_date')) %>%
rename(date = arrest_date)
# skipping 6-4 for some reason???
#insurrection arrests/offenses
jan6_arrests<- dc_arrests %>%
filter(arrest_date > "2021-01-05" & arrest_date < "2021-01-07") %>%
group_by(arrest_date) %>%
summarise(
arrest_count = n()
)
jan6_offenses<- dc_arrests %>%
filter(arrest_date > "2021-01-05" & arrest_date < "2021-01-07") %>%
group_by(offense_date) %>%
summarise(
offense_count = n()
)
jan6_arrest_info <- jan6_arrests %>%
left_join(jan6_offenses, by=c('arrest_date'='offense_date')) %>%
rename(date = arrest_date)
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info)
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
select(-arrest_date)
arrests_by_offense_date<- bind_rows(jan6_arrest_info, blm_arrest_info) %>%
select(-arrest_count)
#write_csv here
write_csv(arrests_by_offense_date, "arrests_by_offense_date")
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s)
View(blm_charges_split)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both"))
#blm_may_31
blm_may_31<- dc_arrests %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_june_1
blm_june_1<- dc_arrests %>%
filter(arrest_date == "2020-06-01") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_june_1
blm_june_1<- blm_charges_split %>%
filter(arrest_date == "2020-06-01") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both"))
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
#blm_june_1
blm_june_1<- blm_charges_split %>%
filter(arrest_date == "2020-06-01") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06")
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both"))%>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#blm charges
blm_charges<- dc_arrests %>%
filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both"))
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
#blm_june_1
blm_june_1<- dc_arrests %>%
filter(arrest_date == "2020-06-01") %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
) %>%
arrange(desc(count))
#head(10)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=n()
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both"))
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
sum()=n()
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
count=sum()
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s) %>%
summarise(
count=sum()
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
count= sum()
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
sum()
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
sum(charge_s)
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
sum_arrests = sum(charge_s)
)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date)
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(as.character(charge_s), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
sum_arrests = sum(count)
)
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31")
#blm_june_1
blm_june_1<- dc_arrests %>%
filter(arrest_date == "2020-06-01")
#blm_june_1
blm_june_1<- blm_charges_split %>%
filter(arrest_date == "2020-06-01")
blm_charges_split<- blm_charges %>%
mutate(charge_s = strsplit(str_squish(as.character(charge_s)), ",")) %>%
unnest(charge_s) %>%
mutate(charge_s = str_trim(charge_s,side="both")) %>%
group_by(charge_s, arrest_date) %>%
summarise(
sum_arrests = sum(count)
)
#blm_may_31
blm_may_31<- blm_charges_split %>%
filter(arrest_date == "2020-05-31")
#blm_june_1
blm_june_1<- blm_charges_split %>%
filter(arrest_date == "2020-06-01")
