---
title: "dc_arrests"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

##Load libraries
```{r}
library(tidyverse)
#install.packages('lubridate')
library(lubridate)
#install.packages('janitor')
library(janitor)
```

download all data from 2020-2021, filter an review for dc area - Aadit
## Load conflict 

```{r}

us_conflicts<- read_csv("data/us_conflict_data.csv")

us_conflicts<- us_conflicts %>% 
  mutate(event_date = dmy(event_date))

jan_6_conflict<- us_conflicts %>% 
  filter(admin1 == "District of Columbia" & event_date == "2021-01-06") %>% 
  select(-data_id, -iso, -iso3, time_precision, -region, -country, -event_id_cnty, -event_id_no_cnty, -timestamp, -time_precision)
  
blm_conflict<- us_conflicts %>% 
  filter(admin1 == "District of Columbia" & event_date > "2020-05-30" & event_date < "2020-06-04") %>% 
  select(-data_id, -iso, -iso3, time_precision, -region, -country, -event_id_cnty, -event_id_no_cnty, -timestamp, -time_precision)


```


## Load arrest data and rename columns so they're easier to work with
```{r}
dc_arrests<- read_csv("data/dc_arrest_data.csv")

dc_arrests<- dc_arrests %>% 
  clean_names()

```
mutate date columns to be dates not strings
```{r}
dc_arrests<- dc_arrests %>% 
   mutate(arrest_date = mdy(arrest_date),
          offense_date = mdy(offense_date))
```
data starts at 5-30-20, main BLM protests through 6-3-20, 5-31 curfew was put in place, ended 6-3

5-31 - church bible 

insurrection 1-6-21

## Questions

Questions to ask:

1. what does unrest related data mean?
"individuals arrested and processed for curfew violations, riot-related burglary, and other riot-related events" from (DC Metro PD [https://mpdc.dc.gov/publication/mpd-unrest-related-arrest-data-set])

right ran rallies- do more people get killed?

talk to professors that teach conflict related stuff/people who study conflict? what causes conflict and civil unrest?

##Data viz potential: 
1. How many people were arrested at each event?
  - compare individual days of protests to insurrection
  
```{r}
#blm arrests/offenses
blm_arrests<- dc_arrests %>% 
  filter(arrest_date > "2020-05-29" & arrest_date < "2020-06-06") %>% 
  group_by(arrest_date) %>% 
  summarise(
    arrest_count = n()
  )

blm_offenses<- dc_arrests %>% 
  filter(offense_date > "2020-05-29" & offense_date < "2020-06-06") %>% 
  group_by(offense_date) %>% 
  summarise(
    offense_count = n()
  )

blm_arrest_info <- blm_arrests %>% 
  left_join(blm_offenses, by=c('arrest_date'='offense_date')) %>% 
  rename(date = arrest_date)


#insurrection arrests/offenses

jan6_arrests<- dc_arrests %>% 
  filter(arrest_date > "2021-01-05" & arrest_date < "2021-01-08") %>% 
  group_by(arrest_date) %>% 
  summarise(
    arrest_count = n()
  )

jan6_offenses<- dc_arrests %>% 
  filter(arrest_date > "2021-01-05" & arrest_date < "2021-01-08") %>% 
  group_by(offense_date) %>% 
  summarise(
    offense_count = n()
  )

jan6_arrest_info <- jan6_arrests %>% 
  left_join(jan6_offenses, by=c('arrest_date'='offense_date')) %>% 
  rename(date = arrest_date)



```
  
  
2. How many people were arrested specifically for curfew violations? 
3. How many minors were arrested at each event?
4. What were the most common charges for each event?


